<!DOCTYPE html>
<html>
<head>
  <title>WebSocket Test</title>
</head>
<body>
  <h1>WebSocket Test</h1>
  <p id="status">Connecting...</p>
  <button onclick="sendMessage()">Send Test Message</button>
  <p id="messages"></p>

  <script>
    const statusEl = document.getElementById('status');
    const messagesEl = document.getElementById('messages');

    // Replace with your actual WebSocket URL
    const socket = new WebSocket('wss://skitter-rural-slipper.glitch.me');

    socket.onopen = () => {
      statusEl.textContent = 'âœ… Connected to WebSocket server!';
    };

    socket.onmessage = (event) => {
      const msg = document.createElement('div');
      msg.textContent = 'ğŸ“© Server: ' + event.data;
      messagesEl.appendChild(msg);
    };

    socket.onerror = (error) => {
      statusEl.textContent = 'âŒ WebSocket error';
      console.error('WebSocket Error:', error);
    };

    socket.onclose = () => {
      statusEl.textContent = 'ğŸ”Œ Connection closed';
    };

    function sendMessage() {
      if (socket.readyState === WebSocket.OPEN) {
        const testMessage = 'Test gesture from client';
        socket.send(testMessage);
        const msg = document.createElement('div');
        msg.textContent = 'ğŸ“¤ Sent: ' + testMessage;
        messagesEl.appendChild(msg);
      } else {
        alert('WebSocket is not connected!');
      }
    }
  </script>
</body>
</html>
